{% extends 'base.html.twig' %}

{% block title %}Hello AdminController!
{% endblock %}

{% block body %}
	<div class="card mx-5">
		<div class="text-center">
			<h1>Classement</h1>
		</div>
		<div class="table" id="tableli">
			<ul>
				{% for user in users %}
					<li>
						<div class="d-flex justify-content-between w-100 mx-5">
							<div class="nom">
								{{user.nom}}
								{{user.prenom}}</div>
							{% if user.classement != null %}
								<div class="score">{{user.classement}}pts
									<a href="#id{{user.id}}">
										<i class="fa-solid fa-ban"></i>
									</a>
								</div>
							{% else %}
								<div class="score">0pts
									<a href="#id{{user.id}}">
										<i class="fa-solid fa-ban"></i>
									</a>
								</div>
							{% endif %}
						</div>
					</li>
					<div id="id{{user.id}}" class="modal">
						<div class="modal-dialog">
							<div class="modal-content">
								<header class="container">
									<a href="#" class="closebtn">Ã—</a>
									<h2>Alerte</h2>
								</header>
								<div class="container">
									<h4>
										voulez-vous bloquez Mme/Mr
										{{user.nom}}
										{{user.prenom}}
										?</h4>
								</div>
								<footer class="container py-2">
									<a href="{{path('app_block', {id:user.id})}}" id="w-change-close" type="button" class="btn btn-success px-2" data-dismiss="modal">OUI</a>
									<a href="{{path('app_admin')}}" id="w-change-close" type="button" class="btn btn-danger px-2" data-dismiss="modal">NON</a>
								</footer>
							</div>
						</div>
					</div>
				{% endfor %}
			</ul>
		</div>
	</div>
	<div class="d-flex justify-content-center pagination">{{ knp_pagination_render(users)}}</div>


{% endblock %}
{% block navbar %}
	<div class="menu-nav" id="nav">
		<nav class="navbar">
			<div class="navcont container-fluid d-flex justify-content-around">
				<a class="nav-link" href="{{path('app_home')}}">
					<i class="fa-solid fa-house"></i>
				</a>
				<a class="nav-link" href="{{path('app_stand')}}">
					<i class="fa-solid fa-store"></i>
				</a>
			</div>
		</nav>
	</div>
{% endblock %}
